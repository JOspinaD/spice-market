<div class="flex justify-content-between gap-3">
  <div class="w-9 mt-5">
    <p-card>
      <ng-template pTemplate="header">
        <h2 class="neon-text flex justify-content-center">Shopping Cart</h2>
      </ng-template>

      <ng-template pTemplate="content">
        <ng-container *ngIf="cartItems && cartItems.length > 0; else emptyCart">
          <p-table [value]="cartItems" [paginator]="true" [rows]="10" [responsiveLayout]="'scroll'">
            <ng-template pTemplate="header">
              <tr>
                <th></th>
                <th>Nombre</th>
                <th>Precio</th>
                <th></th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-item>
              <tr>
                <td class="w-5">
                  <p-avatar
                    [image]="item.cover"
                    styleClass="w-full h-full"
                    [style]="{ 'object-fit': 'cover' }">
                  </p-avatar>
                </td>
                <td class="neon-text text-2xl">{{ item.title }}</td>
                <td>{{ item.price | currency }}</td>
                <td>
                  <p-button
                    icon="pi pi-times"
                    (onClick)="removeItem(item.id)"
                    styleClass="p-button-danger p-button-rounded p-button-sm"
                  ></p-button>
                </td>
              </tr>
            </ng-template>
          </p-table>
        </ng-container>
        <ng-template #emptyCart>
          <div class="flex flex-column align-items-center py-6">
            <span class="mb-3">Tu carrito está vacío</span>
            <p-button label="Descubre juegos" (onClick)="redirectToHome()"></p-button>
          </div>
        </ng-template>
      </ng-template>
    </p-card>
  </div>
  <div class="w-3 mt-5">
    <p-card>
      <ng-template #header>
        <h2 class="neon-text flex justify-content-center">Resumen</h2>
      </ng-template>
      <ng-template #content>
        <p>Items en el carrito: {{ cartItems.length }}</p>
        <p>Total: {{ calculateTotal() | currency }}</p>
        <div class="flex flex justify-content-between">
          <p-button label="Pagar"></p-button>
          <p-button label="Seguir Comprando" (onClick)="redirectToHome()"></p-button>
        </div>
      </ng-template>
    </p-card>
  </div>
</div>
